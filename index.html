<!DOCTYPE html>
<html lang="es" ng-app="bodaApp">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>¬°Nos casamos! ‚Äî Mari Virtu & Ricardo</title>
  <meta name="description" content="Landing de boda: fecha, lugar, confirmaci√≥n de asistencia, itinerario y m√°s." />
  <meta property="og:title" content="¬°Nos casamos! ‚Äî Mari Virtu & Ricardo" />
  <meta property="og:description" content="Acomp√°√±anos en nuestro gran d√≠a. Aqu√≠ encontrar√°s toda la info y podr√°s confirmar tu asistencia." />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#ffffff" />

  <!-- Tailwind CSS (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- AngularJS 1.x (CDN) -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.3/angular.min.js"></script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="styles.css">
</head>
<body class="text-gray-800 antialiased" ng-controller="MainCtrl as vm">
  <!-- Navbar -->
  <header class="sticky top-0 z-50 bg-white/80 backdrop-blur border-b border-gray-100">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <a href="#inicio" class="font-serif text-xl">MV ‚ù§ R</a>
      <nav class="hidden md:flex gap-6 text-sm">
        <a href="#inicio" class="hover:text-pink-600">Inicio</a>
        <a href="#nuestra-historia" class="hover:text-pink-600">Historia</a>
        <a href="#cuenta-regresiva" class="hover:text-pink-600">Cuenta atr√°s</a>
        <a href="#itinerario" class="hover:text-pink-600">Itinerario</a>
        <a href="#ubicacion" class="hover:text-pink-600">Ubicaci√≥n</a>
        <a href="#galeria" class="hover:text-pink-600">Galer√≠a</a>
        <a href="#rsvp" class="hover:text-pink-600 font-semibold">Confirmar</a>
        <a href="#faq" class="hover:text-pink-600">FAQ</a>
      </nav>
      <a href="#rsvp" class="md:hidden inline-flex items-center px-3 py-1.5 rounded-xl bg-pink-600 text-white text-sm shadow">Confirmar</a>
    </div>
  </header>

  <!-- Hero -->
  <section id="inicio" class="hero-bg">
    <div class="max-w-6xl mx-auto px-4 py-20 md:py-28 grid md:grid-cols-2 items-center gap-10">
      <div class="fade-in">
        <p class="uppercase tracking-widest text-xs text-gray-700/80">¬°Nos casamos!</p>
        <h1 class="mt-3 font-serif text-4xl md:text-6xl leading-tight">{{vm.data.novios}}</h1>
        <p class="mt-4 text-lg md:text-xl">Te esperamos el <strong>{{vm.fechaLarga}}</strong> en <strong>{{vm.getLugarPorTipo('ceremonia').nombre}} - {{vm.getLugarPorTipo('ceremonia').ciudad}}</strong>.</p>
        <div class="mt-6 flex flex-wrap gap-3">
          <a href="#rsvp" class="px-5 py-3 rounded-2xl bg-pink-600 text-white shadow hover:shadow-md">Confirmar asistencia</a>
          <a href="#itinerario" class="px-5 py-3 rounded-2xl border border-gray-300 hover:border-gray-400">Ver itinerario</a>
        </div>
      </div>
      <div class="relative">
        <div class="rounded-3xl bg-white/70 p-6 shadow-lg">
          <div class="grid grid-cols-3 text-center gap-4" id="cuenta-regresiva">
            <div class="p-4 rounded-2xl bg-white shadow">
              <div class="text-4xl font-bold">{{vm.countdown.days}}</div>
              <div class="text-xs tracking-wide">D√çAS</div>
            </div>
            <div class="p-4 rounded-2xl bg-white shadow">
              <div class="text-4xl font-bold">{{vm.countdown.hours}}</div>
              <div class="text-xs tracking-wide">HORAS</div>
            </div>
            <div class="p-4 rounded-2xl bg-white shadow">
              <div class="text-4xl font-bold">{{vm.countdown.minutes}}</div>
              <div class="text-xs tracking-wide">MINUTOS</div>
            </div>
          </div>
          <p class="mt-4 text-center text-sm text-gray-600">Faltan para el gran d√≠a</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Nuestra historia -->
  <section id="nuestra-historia" class="py-16 md:py-24 bg-white">
    <div class="max-w-4xl mx-auto px-4">
      <h2 class="font-serif text-3xl md:text-4xl text-center">Nuestra historia</h2>
      <p class="mt-6 text-lg text-gray-700 leading-relaxed text-center">{{vm.data.historia}}</p>
    </div>
  </section>

  <!-- Itinerario -->
  <section id="itinerario" class="py-16 md:py-24 bg-gray-50">
    <div class="max-w-5xl mx-auto px-4">
      <h2 class="font-serif text-3xl md:text-4xl text-center">Itinerario</h2>
      <div class="mt-10 grid md:grid-cols-3 gap-6">
        <div class="p-6 rounded-3xl bg-white shadow" ng-repeat="item in vm.data.itinerario">
          <div class="text-sm text-gray-500">{{item.hora}}</div>
          <div class="mt-1 font-semibold">{{item.titulo}}</div>
          <p class="mt-2 text-sm text-gray-600">{{item.descripcion}}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Ubicaci√≥n -->
  <section id="ubicacion" class="py-16 md:py-24 bg-white">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="font-serif text-3xl md:text-4xl text-center">Ubicaci√≥n</h2>
      <div class="mt-8 grid md:grid-cols-2 gap-8 items-start">
        <div ng-repeat="lugar in vm.data.lugares" class="bg-white rounded-3xl p-6 text-center">
          <h3 class="text-xl font-semibold">{{lugar.nombre}}</h3>
          <p class="mt-2 text-gray-700">{{lugar.direccion}}</p>
          <p class="text-gray-700">{{lugar.ciudad}}</p>
          <div class="mt-4 flex gap-3 justify-center">
            <a ng-href="https://www.google.com/maps/dir/?api=1&destination={{lugar.coords.lat}},{{lugar.coords.lng}}" target="_blank" class="px-4 py-2 rounded-xl border">C√≥mo llegar</a>
            <a ng-if="lugar.web" ng-href="{{lugar.web}}" target="_blank" class="px-4 py-2 rounded-xl border">Sitio web</a>
          </div>
          <span class="mt-4 inline-block text-sm text-gray-500 font-bold">{{lugar.tipo | uppercase}}</span>
          <ul class="mt-6 text-sm text-gray-700 list-disc list-inside space-y-1">
            <li ng-if="lugar.parking"><strong>Aparcamiento:</strong> {{lugar.parking}}</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Galer√≠a -->
  <section id="galeria" class="py-16 md:py-24 bg-gray-50">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="font-serif text-3xl md:text-4xl text-center">Galer√≠a</h2>
      <div class="mt-8 grid grid-cols-2 md:grid-cols-4 gap-4">
        <img ng-repeat="foto in vm.data.galeria" ng-src="{{foto.src}}" alt="Foto {{ $index + 1 }}" class="rounded-2xl w-full h-40 object-cover shadow"/>
      </div>
    </div>
  </section>

  <!-- Confirmaci√≥n (RSVP) -->
  <section id="rsvp" class="py-16 md:py-24 bg-white">
    <div class="max-w-3xl mx-auto px-4">
      <h2 class="font-serif text-3xl md:text-4xl text-center">Confirma tu asistencia</h2>
      <div class="relative">
        <form name="rsvpForm" novalidate ng-submit="vm.enviarRSVP(rsvpForm)" class="mt-8 space-y-5 bg-gray-50 p-6 md:p-8 rounded-3xl shadow">
          <div class="grid md:grid-cols-2 gap-5">
            <div>
              <label class="text-sm">Nombre y apellidos</label>
              <input type="text" class="mt-1 w-full rounded-xl border px-3 py-2" ng-model="vm.rsvp.nombre" required />
            </div>
            <div>
              <label class="text-sm">Correo electr√≥nico</label>
              <input type="email" class="mt-1 w-full rounded-xl border px-3 py-2" ng-model="vm.rsvp.email" required />
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-5">
            <div>
              <label class="text-sm">¬øAsistir√°s?</label>
              <select class="mt-1 w-full rounded-xl border px-3 py-2" ng-model="vm.rsvp.asistencia" required>
                <option value="" disabled selected hidden>Selecciona una opci√≥n</option>
                <option value="si">S√≠, all√≠ estar√©</option>
                <option value="no">No podr√© asistir</option>
              </select>
            </div>
            <div>
              <label class="text-sm">Men√∫</label>
              <select class="mt-1 w-full rounded-xl border px-3 py-2" ng-model="vm.rsvp.menu" required>
                <option value="" disabled selected hidden>Selecciona una opci√≥n</option>
                <option value="carne">Carne</option>
                <option value="pescado">Pescado</option>
                <option value="vegetariano">Vegetariano/Vegano</option>
              </select>
            </div>
            <div>
              <label class="text-sm">Alergias o restricciones</label>
              <input type="text" class="mt-1 w-full rounded-xl border px-3 py-2" placeholder="Opcional" ng-model="vm.rsvp.alergias" />
            </div>
          </div>
          <div>
            <label class="text-sm">Mensaje para los novios</label>
            <textarea class="mt-1 w-full rounded-xl border px-3 py-2" rows="3" placeholder="Opcional" ng-model="vm.rsvp.mensaje"></textarea>
          </div>
          <div class="flex items-center gap-3">
            <button type="submit" class="px-5 py-3 rounded-2xl bg-pink-600 text-white shadow hover:shadow-md">Enviar confirmaci√≥n</button>
          </div>
          <p class="text-green-700 text-sm" ng-if="vm.enviado && vm.rsvp.asistencia==='si'">¬°Gracias! Hemos guardado tu respuesta. üì©</p>
          <p class="text-gray-700 text-sm" ng-if="vm.enviado && vm.rsvp.asistencia==='no'">Gracias por avisar. Te mandamos un abrazo. ü§ç</p>
        </form>
        <!-- Overlay de √©xito -->
        <div ng-if="vm.enviado" class="absolute inset-0 flex items-center justify-center bg-white/90 z-10 rounded-2xl">
          <div class="text-green-700 text-xl font-semibold text-center px-6 py-8">
            ¬°Gracias! Tu mensaje ha sido enviado correctamente.
          </div>
        </div>
        <!-- Loader overlay (z-20 para estar encima del overlay de √©xito si coinciden) -->
        <div ng-if="vm.enviando" class="absolute inset-0 flex items-center justify-center bg-white/80 z-20 rounded-2xl">
          <div class="flex flex-col items-center">
            <svg class="animate-spin h-10 w-10 text-pink-600 mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8z"></path>
            </svg>
            <span class="text-pink-700 font-semibold">Enviando...</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="py-16 md:py-24 bg-white">
    <div class="max-w-4xl mx-auto px-4">
      <h2 class="font-serif text-3xl md:text-4xl text-center">Preguntas frecuentes</h2>
      <div class="mt-8 divide-y">
        <details class="py-4">
          <summary class="cursor-pointer font-medium">¬øPuedo llevar acompa√±ante?</summary>
          <p class="mt-2 text-gray-700">Ind√≠calo en tu confirmaci√≥n y te diremos disponibilidad.</p>
        </details>
        <details class="py-4">
          <summary class="cursor-pointer font-medium">¬øNi√±os?</summary>
          <p class="mt-2 text-gray-700">¬°Claro! Habr√° zona infantil y animaci√≥n.</p>
        </details>
        <details class="py-4">
          <summary class="cursor-pointer font-medium">¬øHay opciones vegetarianas/veganas?</summary>
          <p class="mt-2 text-gray-700">S√≠, por favor com√©ntalo en el formulario.</p>
        </details>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-10 border-t">
    <div class="max-w-6xl mx-auto px-4 flex flex-col md:flex-row items-center justify-between gap-4">
      <p class="text-sm">¬© {{vm.year}} Mari Virtu & Ricardo ‚Äî Con ‚ù§Ô∏è</p>
    </div>
  </footer>

  <!-- Custom JS -->
  <script src="app.js"></script>
</body>
</html>
